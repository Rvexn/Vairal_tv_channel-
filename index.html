<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Vairal-hub Vx </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --tg-blue: #0088cc; --tg-bg: #e7ebf0; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, sans-serif; }
        body { background: #f0f2f5; height: 100vh; overflow: hidden; display: flex; justify-content: center; }

        .clone-container {
            width: 100%; max-width: 450px; height: 100vh; background: var(--tg-bg);
            display: flex; flex-direction: column; box-shadow: 0 0 20px rgba(0,0,0,0.1);
            background-image: url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png');
            background-size: cover; position: relative;
        }

        /* --- NOTICE / ALERT OVERLAY --- */
        #notice-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 9999;
            display: none; align-items: center; justify-content: center; padding: 20px;
        }
        .notice-box {
            background: white; width: 100%; max-width: 350px; border-radius: 20px;
            overflow: hidden; text-align: center; animation: zoomIn 0.3s ease;
        }
        .notice-img { width: 100%; max-height: 200px; object-fit: cover; background: #eee; }
        .notice-content { padding: 20px; }
        .notice-title { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 10px; }
        .notice-text { font-size: 14px; color: #666; margin-bottom: 20px; line-height: 1.5; }
        .notice-btn { 
            display: block; width: 100%; padding: 12px; background: var(--tg-blue); 
            color: white; text-decoration: none; border-radius: 10px; font-weight: bold; margin-bottom: 10px;
        }
        .close-notice { color: #888; font-size: 12px; cursor: pointer; text-decoration: underline; }

        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Styles */
        .sticky-top { position: sticky; top: 0; z-index: 1000; display: flex; flex-direction: column; }
        .header { background: var(--tg-blue); color: white; padding: 10px 15px; display: flex; align-items: center; justify-content: space-between; }
        .header-left { display: flex; align-items: center; gap: 10px; }
        .avatar { width: 38px; height: 38px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 1px solid rgba(255,255,255,0.4); cursor: pointer; }
        .category-bar { display: flex; background: white; padding: 10px; gap: 8px; border-bottom: 1px solid #ddd; }
        .cat-btn { flex: 1; padding: 10px 5px; border: 1px solid #e0e0e0; border-radius: 20px; background: #f8f9fa; font-weight: bold; font-size: 11px; cursor: pointer; text-align: center; }
        .cat-btn.active { background: var(--tg-blue); color: white; }
        
        #content-feed { flex: 1; padding: 12px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .msg-bubble { background: white; border-radius: 12px; display: flex; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,0.15); min-height: 120px; }
        .thumb-container { width: 38%; }
        .thumb-img { width: 100%; height: 100%; object-fit: cover; }
        .post-body { width: 62%; padding: 10px; display: flex; flex-direction: column; justify-content: space-between; }
        
        /* Share Section */
        .post-header-info { display: flex; justify-content: space-between; align-items: flex-start; gap: 5px; }
        .wa-icon { color: #25D366; font-size: 20px; text-decoration: none; cursor: pointer; }

        .watch-btn { display: flex; align-items: center; justify-content: center; padding: 8px; background: #eef7ff; color: var(--tg-blue); text-decoration: none; border-radius: 6px; font-weight: bold; font-size: 12px; cursor: pointer; }
    </style>
</head>
<body>

<div id="notice-overlay">
    <div class="notice-box">
        <img id="alert-img" src="" class="notice-img">
        <div class="notice-content">
            <div id="alert-title" class="notice-title">Notice Update</div>
            <p id="alert-text" class="notice-text">Please join our new channel for daily updates!</p>
            <a id="alert-btn-link" href="#" target="_blank" class="notice-btn">Join Now</a>
            <div class="close-notice" onclick="closeNotice()">Maybe Later</div>
        </div>
    </div>
</div>

<div class="clone-container">
    <div class="sticky-top">
        <div class="header">
            <div class="header-left">
                <div class="avatar" onclick="openAdmin()">VX</div>
                <div>
                    <div style="font-weight: bold; font-size: 14px;">Vairal-hub Vx </div>
                    <div id="display-uid" style="font-size: 10px; opacity: 0.8;">online</div>
                </div>
            </div>
            </div>
        <div class="category-bar">
            <button class="cat-btn active" id="btn-ind" onclick="render('ind', this)">üáÆüá≥ Indian</button>
            <button class="cat-btn" onclick="render('ban', this)">üáßüá© Bangla</button>
            <button class="cat-btn" onclick="render('oth', this)">üåê Others</button>
        </div>
    </div>
    <div id="content-feed"></div>
</div>

<script>
    const BOT_TOKEN = '7938751733:AAEdQC9P6d2T_Q8Ub7pCW3IhmjgxyT5KKkg';
    const CHAT_ID = '6262892880';

    let appConfig = JSON.parse(localStorage.getItem('vx_config')) || {
        alert: {
            show: true,
            img: "https://i.ibb.co/TDLGF7CF/In-Shot-20260209-215103448.jpg",
            title: "üöÄ New Video Update!",
            text: "Dosto naya video aa chuka hai, niche click karke channel join karein.",
            btnText: "üì¢ Join Telegram",
            btnLink: "https://t.me/Vairal_hub_Vx"
        },
        posts: []
    };

    function initUser() {
        let uid = localStorage.getItem('vHub_UID') || ('USR-' + Math.floor(1000 + Math.random() * 9000));
        localStorage.setItem('vHub_UID', uid);
        document.getElementById('display-uid').innerText = `ID: ${uid}`;
        
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent('User Online: '+uid)}`);
        
        if(appConfig.alert.show) {
            setTimeout(() => {
                document.getElementById('alert-img').src = appConfig.alert.img;
                document.getElementById('alert-title').innerText = appConfig.alert.title;
                document.getElementById('alert-text').innerText = appConfig.alert.text;
                document.getElementById('alert-btn-link').innerText = appConfig.alert.btnText;
                document.getElementById('alert-btn-link').href = appConfig.alert.btnLink;
                document.getElementById('notice-overlay').style.display = 'flex';
            }, 1500);
        }
    }

    function closeNotice() { document.getElementById('notice-overlay').style.display = 'none'; }

    function render(cat, btn) {
        if(btn) {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
        const feed = document.getElementById('content-feed');
        feed.innerHTML = "";
        
        const currentUrl = window.location.href;

        appConfig.posts.filter(p => p.cat === cat).forEach(post => {
            const shareMsg = encodeURIComponent(`üî• *New Viral Video:* ${post.title}\n\nüé¨ Watch Here üëá\n${currentUrl}`);
            const waShareUrl = `https://wa.me/?text=${shareMsg}`;

            const item = document.createElement('div');
            item.className = 'msg-bubble';
            item.innerHTML = `
                <div class="thumb-container"><img src="${post.thumb}" class="thumb-img"></div>
                <div class="post-body">
                    <div class="post-header-info">
                        <span class="post-title" style="font-weight:bold; font-size:14px; color:#333;">${post.title}</span>
                        <a href="${waShareUrl}" target="_blank" class="wa-icon"><i class="fab fa-whatsapp"></i></a>
                    </div>
                    <div class="watch-btn" onclick="sendLogAndOpen('${post.title}', '${post.link}')">‚ñ∂Ô∏è Watch now</div>
                </div>
            `;
            feed.appendChild(item);
        });
    }

    function sendLogAndOpen(title, link) {
        const uid = localStorage.getItem('vHub_UID');
        fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent('User ['+uid+'] watching: '+title)}`);
        window.open(link, '_blank');
    }

    function openAdmin() {
        if(prompt("Admin Pass:") === "1234") {
            alert("Admin Mode Activated!");
        }
    }

    window.onload = () => { initUser(); render('ind'); };
</script>
</body>
</html>
